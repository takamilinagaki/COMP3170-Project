{"ast":null,"code":"import * as React from 'react';\nimport { classNamesFunction } from '../../../Utilities';\nimport { Icon } from '../../../Icon';\nimport { PersonaPresence as PersonaPresenceEnum } from '../Persona.types';\nimport { sizeBoolean } from '../PersonaConsts';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nvar coinSizeFontScaleFactor = 6;\nvar coinSizePresenceScaleFactor = 3;\nvar presenceMaxSize = 40;\nvar presenceFontMaxSize = 20;\nvar getClassNames = classNamesFunction({\n  // There can be many PersonaPresence rendered with different sizes.\n  // Therefore setting a larger cache size.\n  cacheSize: 100\n});\n/**\n * PersonaPresence with no default styles.\n * [Use the `getStyles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport var PersonaPresenceBase = React.forwardRef(function (props, forwardedRef) {\n  var coinSize = props.coinSize,\n    isOutOfOffice = props.isOutOfOffice,\n    styles = props.styles,\n    // Use getStyles from props.\n    presence = props.presence,\n    theme = props.theme,\n    presenceTitle = props.presenceTitle,\n    presenceColors = props.presenceColors;\n  var rootRef = React.useRef(null);\n  var mergedRootRef = useMergedRefs(forwardedRef, rootRef);\n  var size = sizeBoolean(props.size);\n  // Render Presence Icon if Persona is above size 32.\n  var renderIcon = !(size.isSize8 || size.isSize10 || size.isSize16 || size.isSize24 || size.isSize28 || size.isSize32) && (coinSize ? coinSize > 32 : true);\n  var presenceHeightWidth = coinSize ? coinSize / coinSizePresenceScaleFactor < presenceMaxSize ? coinSize / coinSizePresenceScaleFactor + 'px' : presenceMaxSize + 'px' : '';\n  var presenceFontSize = coinSize ? coinSize / coinSizeFontScaleFactor < presenceFontMaxSize ? coinSize / coinSizeFontScaleFactor + 'px' : presenceFontMaxSize + 'px' : '';\n  var coinSizeWithPresenceIconStyle = coinSize ? {\n    fontSize: presenceFontSize,\n    lineHeight: presenceHeightWidth\n  } : undefined;\n  var coinSizeWithPresenceStyle = coinSize ? {\n    width: presenceHeightWidth,\n    height: presenceHeightWidth\n  } : undefined;\n  // Use getStyles from props, or fall back to getStyles from styles file.\n  var classNames = getClassNames(styles, {\n    theme: theme,\n    presence: presence,\n    size: props.size,\n    isOutOfOffice: isOutOfOffice,\n    presenceColors: presenceColors\n  });\n  if (presence === PersonaPresenceEnum.none) {\n    return null;\n  }\n  return React.createElement(\"div\", {\n    role: \"presentation\",\n    className: classNames.presence,\n    style: coinSizeWithPresenceStyle,\n    title: presenceTitle,\n    ref: mergedRootRef\n  }, renderIcon && React.createElement(Icon, {\n    className: classNames.presenceIcon,\n    iconName: determineIcon(props.presence, props.isOutOfOffice),\n    style: coinSizeWithPresenceIconStyle\n  }));\n});\nPersonaPresenceBase.displayName = 'PersonaPresenceBase';\nfunction determineIcon(presence, isOutOfOffice) {\n  if (!presence) {\n    return undefined;\n  }\n  var oofIcon = 'SkypeArrow';\n  switch (PersonaPresenceEnum[presence]) {\n    case 'online':\n      return 'SkypeCheck';\n    case 'away':\n      return isOutOfOffice ? oofIcon : 'SkypeClock';\n    case 'dnd':\n      return 'SkypeMinus';\n    case 'offline':\n      return isOutOfOffice ? oofIcon : '';\n  }\n  return '';\n}","map":{"version":3,"names":["React","classNamesFunction","Icon","PersonaPresence","PersonaPresenceEnum","sizeBoolean","useMergedRefs","coinSizeFontScaleFactor","coinSizePresenceScaleFactor","presenceMaxSize","presenceFontMaxSize","getClassNames","cacheSize","PersonaPresenceBase","forwardRef","props","forwardedRef","coinSize","isOutOfOffice","styles","presence","theme","presenceTitle","presenceColors","rootRef","useRef","mergedRootRef","size","renderIcon","isSize8","isSize10","isSize16","isSize24","isSize28","isSize32","presenceHeightWidth","presenceFontSize","coinSizeWithPresenceIconStyle","fontSize","lineHeight","undefined","coinSizeWithPresenceStyle","width","height","classNames","none","createElement","role","className","style","title","ref","presenceIcon","iconName","determineIcon","displayName","oofIcon"],"sources":["/Users/jerrywuyongon/node_modules/@fluentui/react/lib/components/Persona/src/components/Persona/PersonaPresence/PersonaPresence.base.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNamesFunction } from '../../../Utilities';\nimport { Icon } from '../../../Icon';\nimport { PersonaPresence as PersonaPresenceEnum, PersonaSize } from '../Persona.types';\nimport { sizeBoolean } from '../PersonaConsts';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nimport type { IPersonaPresenceProps, IPersonaPresenceStyleProps, IPersonaPresenceStyles } from '../Persona.types';\n\nconst coinSizeFontScaleFactor = 6;\nconst coinSizePresenceScaleFactor = 3;\nconst presenceMaxSize = 40;\nconst presenceFontMaxSize = 20;\n\nconst getClassNames = classNamesFunction<IPersonaPresenceStyleProps, IPersonaPresenceStyles>({\n  // There can be many PersonaPresence rendered with different sizes.\n  // Therefore setting a larger cache size.\n  cacheSize: 100,\n});\n\n/**\n * PersonaPresence with no default styles.\n * [Use the `getStyles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport const PersonaPresenceBase: React.FunctionComponent<IPersonaPresenceProps> = React.forwardRef<\n  HTMLDivElement,\n  IPersonaPresenceProps\n>((props, forwardedRef) => {\n  const {\n    coinSize,\n    isOutOfOffice,\n    styles, // Use getStyles from props.\n    presence,\n    theme,\n    presenceTitle,\n    presenceColors,\n  } = props;\n\n  const rootRef = React.useRef<HTMLDivElement>(null);\n  const mergedRootRef = useMergedRefs(forwardedRef, rootRef);\n\n  const size = sizeBoolean(props.size as PersonaSize);\n\n  // Render Presence Icon if Persona is above size 32.\n  const renderIcon =\n    !(size.isSize8 || size.isSize10 || size.isSize16 || size.isSize24 || size.isSize28 || size.isSize32) &&\n    (coinSize ? coinSize > 32 : true);\n\n  const presenceHeightWidth: string = coinSize\n    ? coinSize / coinSizePresenceScaleFactor < presenceMaxSize\n      ? coinSize / coinSizePresenceScaleFactor + 'px'\n      : presenceMaxSize + 'px'\n    : '';\n  const presenceFontSize: string = coinSize\n    ? coinSize / coinSizeFontScaleFactor < presenceFontMaxSize\n      ? coinSize / coinSizeFontScaleFactor + 'px'\n      : presenceFontMaxSize + 'px'\n    : '';\n  const coinSizeWithPresenceIconStyle = coinSize\n    ? { fontSize: presenceFontSize, lineHeight: presenceHeightWidth }\n    : undefined;\n  const coinSizeWithPresenceStyle = coinSize ? { width: presenceHeightWidth, height: presenceHeightWidth } : undefined;\n\n  // Use getStyles from props, or fall back to getStyles from styles file.\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    presence,\n    size: props.size,\n    isOutOfOffice,\n    presenceColors,\n  });\n\n  if (presence === PersonaPresenceEnum.none) {\n    return null;\n  }\n\n  return (\n    <div\n      role=\"presentation\"\n      className={classNames.presence}\n      style={coinSizeWithPresenceStyle}\n      title={presenceTitle}\n      ref={mergedRootRef}\n    >\n      {renderIcon && (\n        <Icon\n          className={classNames.presenceIcon}\n          iconName={determineIcon(props.presence, props.isOutOfOffice)}\n          style={coinSizeWithPresenceIconStyle}\n        />\n      )}\n    </div>\n  );\n});\nPersonaPresenceBase.displayName = 'PersonaPresenceBase';\n\nfunction determineIcon(\n  presence: PersonaPresenceEnum | undefined,\n  isOutOfOffice: boolean | undefined,\n): string | undefined {\n  if (!presence) {\n    return undefined;\n  }\n\n  const oofIcon = 'SkypeArrow';\n\n  switch (PersonaPresenceEnum[presence]) {\n    case 'online':\n      return 'SkypeCheck';\n    case 'away':\n      return isOutOfOffice ? oofIcon : 'SkypeClock';\n    case 'dnd':\n      return 'SkypeMinus';\n    case 'offline':\n      return isOutOfOffice ? oofIcon : '';\n  }\n\n  return '';\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}