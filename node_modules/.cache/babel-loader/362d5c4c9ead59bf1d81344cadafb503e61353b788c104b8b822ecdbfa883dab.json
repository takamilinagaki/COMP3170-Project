{"ast":null,"code":"import * as React from 'react';\nimport { useConst } from './useConst';\n/**\n *  Returns a wrapper function for `setTimeout` which automatically handles disposal.\n */\nexport var useSetTimeout = function () {\n  var timeoutIds = useConst({});\n  // Cleanup function.\n  React.useEffect(function () {\n    return function () {\n      for (var _i = 0, _a = Object.keys(timeoutIds); _i < _a.length; _i++) {\n        var id = _a[_i];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        clearTimeout(id);\n      }\n    };\n  },\n  // useConst ensures this will never change, but react-hooks/exhaustive-deps doesn't know that\n  [timeoutIds]);\n  // Return wrapper which will auto cleanup.\n  return useConst({\n    setTimeout: function (func, duration) {\n      var id = setTimeout(func, duration);\n      timeoutIds[id] = 1;\n      return id;\n    },\n    clearTimeout: function (id) {\n      delete timeoutIds[id];\n      clearTimeout(id);\n    }\n  });\n};","map":{"version":3,"names":["React","useConst","useSetTimeout","timeoutIds","useEffect","_i","_a","Object","keys","length","id","clearTimeout","setTimeout","func","duration"],"sources":["/Users/jerrywuyongon/node_modules/@fluentui/react-hooks/src/useSetTimeout.ts"],"sourcesContent":["import * as React from 'react';\nimport { useConst } from './useConst';\n\nexport type UseSetTimeoutReturnType = {\n  setTimeout: (callback: () => void, duration: number) => number;\n  clearTimeout: (id: number) => void;\n};\n\n/**\n *  Returns a wrapper function for `setTimeout` which automatically handles disposal.\n */\nexport const useSetTimeout = (): UseSetTimeoutReturnType => {\n  const timeoutIds = useConst<Record<number, number>>({});\n\n  // Cleanup function.\n  React.useEffect(\n    () => () => {\n      for (const id of Object.keys(timeoutIds)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        clearTimeout(id as any);\n      }\n    },\n    // useConst ensures this will never change, but react-hooks/exhaustive-deps doesn't know that\n    [timeoutIds],\n  );\n\n  // Return wrapper which will auto cleanup.\n  return useConst({\n    setTimeout: (func: () => void, duration: number): number => {\n      const id = setTimeout(func, duration) as unknown as number;\n\n      timeoutIds[id] = 1;\n\n      return id;\n    },\n\n    clearTimeout: (id: number): void => {\n      delete timeoutIds[id];\n      clearTimeout(id);\n    },\n  });\n};\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,QAAQ,YAAY;AAOrC;;;AAGA,OAAO,IAAMC,aAAa,GAAG,SAAAA,CAAA;EAC3B,IAAMC,UAAU,GAAGF,QAAQ,CAAyB,EAAE,CAAC;EAEvD;EACAD,KAAK,CAACI,SAAS,CACb;IAAM;MACJ,KAAiB,IAAAC,EAAA,IAAuB,EAAvBC,EAAA,GAAAC,MAAM,CAACC,IAAI,CAACL,UAAU,CAAC,EAAvBE,EAAA,GAAAC,EAAA,CAAAG,MAAuB,EAAvBJ,EAAA,EAAuB,EAAE;QAArC,IAAMK,EAAE,GAAAJ,EAAA,CAAAD,EAAA;QACX;QACAM,YAAY,CAACD,EAAS,CAAC;;IAE3B,CAAC;EALK,CAKL;EACD;EACA,CAACP,UAAU,CAAC,CACb;EAED;EACA,OAAOF,QAAQ,CAAC;IACdW,UAAU,EAAE,SAAAA,CAACC,IAAgB,EAAEC,QAAgB;MAC7C,IAAMJ,EAAE,GAAGE,UAAU,CAACC,IAAI,EAAEC,QAAQ,CAAsB;MAE1DX,UAAU,CAACO,EAAE,CAAC,GAAG,CAAC;MAElB,OAAOA,EAAE;IACX,CAAC;IAEDC,YAAY,EAAE,SAAAA,CAACD,EAAU;MACvB,OAAOP,UAAU,CAACO,EAAE,CAAC;MACrBC,YAAY,CAACD,EAAE,CAAC;IAClB;GACD,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}