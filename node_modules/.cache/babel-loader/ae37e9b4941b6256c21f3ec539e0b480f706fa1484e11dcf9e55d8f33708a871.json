{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { IconType } from './Icon.types';\nimport { Image } from '../Image/Image';\nimport { ImageLoadState } from '../Image/Image.types';\nimport { getNativeProps, htmlElementProperties, classNamesFunction } from '../../Utilities';\nimport { getIconContent } from './FontIcon';\nvar getClassNames = classNamesFunction({\n  // Icon is used a lot by other components.\n  // It's likely to see expected cases which pass different className to the Icon.\n  // Therefore setting a larger cache size.\n  cacheSize: 100\n});\nvar IconBase = /** @class */function (_super) {\n  __extends(IconBase, _super);\n  function IconBase(props) {\n    var _this = _super.call(this, props) || this;\n    _this._onImageLoadingStateChange = function (state) {\n      if (_this.props.imageProps && _this.props.imageProps.onLoadingStateChange) {\n        _this.props.imageProps.onLoadingStateChange(state);\n      }\n      if (state === ImageLoadState.error) {\n        _this.setState({\n          imageLoadError: true\n        });\n      }\n    };\n    _this.state = {\n      imageLoadError: false\n    };\n    return _this;\n  }\n  IconBase.prototype.render = function () {\n    var _a = this.props,\n      children = _a.children,\n      className = _a.className,\n      styles = _a.styles,\n      iconName = _a.iconName,\n      imageErrorAs = _a.imageErrorAs,\n      theme = _a.theme;\n    var isPlaceholder = typeof iconName === 'string' && iconName.length === 0;\n    var isImage =\n    // eslint-disable-next-line deprecation/deprecation\n    !!this.props.imageProps || this.props.iconType === IconType.image || this.props.iconType === IconType.Image;\n    var iconContent = getIconContent(iconName) || {};\n    var iconClassName = iconContent.iconClassName,\n      iconContentChildren = iconContent.children,\n      mergeImageProps = iconContent.mergeImageProps;\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      className: className,\n      iconClassName: iconClassName,\n      isImage: isImage,\n      isPlaceholder: isPlaceholder\n    });\n    var RootType = isImage ? 'span' : 'i';\n    var nativeProps = getNativeProps(this.props, htmlElementProperties, ['aria-label']);\n    var imageLoadError = this.state.imageLoadError;\n    var imageProps = __assign(__assign({}, this.props.imageProps), {\n      onLoadingStateChange: this._onImageLoadingStateChange\n    });\n    var ImageType = imageLoadError && imageErrorAs || Image;\n    // eslint-disable-next-line deprecation/deprecation\n    var ariaLabel = this.props['aria-label'] || this.props.ariaLabel;\n    var accessibleName = imageProps.alt || ariaLabel || this.props.title;\n    var hasName = !!(accessibleName || this.props['aria-labelledby'] || imageProps['aria-label'] || imageProps['aria-labelledby']);\n    var containerProps = hasName ? {\n      role: isImage || mergeImageProps ? undefined : 'img',\n      'aria-label': isImage || mergeImageProps ? undefined : accessibleName\n    } : {\n      'aria-hidden': true\n    };\n    var finalIconContentChildren = iconContentChildren;\n    if (mergeImageProps && iconContentChildren && typeof iconContentChildren === 'object' && accessibleName) {\n      finalIconContentChildren = React.cloneElement(iconContentChildren, {\n        alt: accessibleName\n      });\n    }\n    return React.createElement(RootType, __assign({\n      \"data-icon-name\": iconName\n    }, containerProps, nativeProps, mergeImageProps ? {\n      title: undefined,\n      'aria-label': undefined\n    } : {}, {\n      className: classNames.root\n    }), isImage ? React.createElement(ImageType, __assign({}, imageProps)) : children || finalIconContentChildren);\n  };\n  return IconBase;\n}(React.Component);\nexport { IconBase };","map":{"version":3,"names":["React","IconType","Image","ImageLoadState","getNativeProps","htmlElementProperties","classNamesFunction","getIconContent","getClassNames","cacheSize","IconBase","_super","__extends","props","_this","call","_onImageLoadingStateChange","state","imageProps","onLoadingStateChange","error","setState","imageLoadError","prototype","render","_a","children","className","styles","iconName","imageErrorAs","theme","isPlaceholder","length","isImage","iconType","image","iconContent","iconClassName","iconContentChildren","mergeImageProps","classNames","RootType","nativeProps","__assign","ImageType","ariaLabel","accessibleName","alt","title","hasName","containerProps","role","undefined","finalIconContentChildren","cloneElement","createElement","root","Component"],"sources":["/Users/jerrywuyongon/node_modules/@fluentui/react/lib/components/src/components/Icon/Icon.base.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { IconType } from './Icon.types';\nimport { Image } from '../Image/Image';\nimport { ImageLoadState } from '../Image/Image.types';\nimport { getNativeProps, htmlElementProperties, classNamesFunction } from '../../Utilities';\nimport { getIconContent } from './FontIcon';\nimport type { IIconProps, IIconStyleProps, IIconStyles } from './Icon.types';\nimport type { IImageProps } from '../Image/Image.types';\n\nexport interface IIconState {\n  imageLoadError: boolean;\n}\n\nconst getClassNames = classNamesFunction<IIconStyleProps, IIconStyles>({\n  // Icon is used a lot by other components.\n  // It's likely to see expected cases which pass different className to the Icon.\n  // Therefore setting a larger cache size.\n  cacheSize: 100,\n});\n\nexport class IconBase extends React.Component<IIconProps, IIconState> {\n  constructor(props: IIconProps) {\n    super(props);\n    this.state = {\n      imageLoadError: false,\n    };\n  }\n\n  public render() {\n    const { children, className, styles, iconName, imageErrorAs, theme } = this.props;\n    const isPlaceholder = typeof iconName === 'string' && iconName.length === 0;\n    const isImage =\n      // eslint-disable-next-line deprecation/deprecation\n      !!this.props.imageProps || this.props.iconType === IconType.image || this.props.iconType === IconType.Image;\n    const iconContent = getIconContent(iconName) || {};\n    const { iconClassName, children: iconContentChildren, mergeImageProps } = iconContent;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      iconClassName,\n      isImage,\n      isPlaceholder,\n    });\n\n    const RootType = isImage ? 'span' : 'i';\n    const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, htmlElementProperties, [\n      'aria-label',\n    ]);\n    const { imageLoadError } = this.state;\n    const imageProps: IImageProps = {\n      ...this.props.imageProps,\n      onLoadingStateChange: this._onImageLoadingStateChange,\n    };\n    const ImageType = (imageLoadError && imageErrorAs) || Image;\n\n    // eslint-disable-next-line deprecation/deprecation\n    const ariaLabel = this.props['aria-label'] || this.props.ariaLabel;\n    const accessibleName = imageProps.alt || ariaLabel || this.props.title;\n    const hasName = !!(\n      accessibleName ||\n      this.props['aria-labelledby'] ||\n      imageProps['aria-label'] ||\n      imageProps['aria-labelledby']\n    );\n    const containerProps = hasName\n      ? {\n          role: isImage || mergeImageProps ? undefined : 'img',\n          'aria-label': isImage || mergeImageProps ? undefined : accessibleName,\n        }\n      : {\n          'aria-hidden': true,\n        };\n\n    let finalIconContentChildren = iconContentChildren;\n\n    if (mergeImageProps && iconContentChildren && typeof iconContentChildren === 'object' && accessibleName) {\n      finalIconContentChildren = React.cloneElement(iconContentChildren, {\n        alt: accessibleName,\n      });\n    }\n\n    return (\n      <RootType\n        data-icon-name={iconName}\n        {...containerProps}\n        {...nativeProps}\n        {...(mergeImageProps\n          ? {\n              title: undefined,\n              'aria-label': undefined,\n            }\n          : {})}\n        className={classNames.root}\n      >\n        {isImage ? <ImageType {...imageProps} /> : children || finalIconContentChildren}\n      </RootType>\n    );\n  }\n\n  private _onImageLoadingStateChange = (state: ImageLoadState): void => {\n    if (this.props.imageProps && this.props.imageProps.onLoadingStateChange) {\n      this.props.imageProps.onLoadingStateChange(state);\n    }\n    if (state === ImageLoadState.error) {\n      this.setState({ imageLoadError: true });\n    }\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}