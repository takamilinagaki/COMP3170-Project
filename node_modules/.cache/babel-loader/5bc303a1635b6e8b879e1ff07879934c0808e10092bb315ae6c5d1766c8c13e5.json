{"ast":null,"code":"import { __assign } from \"tslib\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \"react-portal-compat-context\" uses v9 configs via path aliases\nimport { usePortalCompat } from '@fluentui/react-portal-compat-context';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Fabric } from '../../Fabric';\nimport { classNamesFunction, css, getDocument, setPortalAttribute, setVirtualParent, FocusRectsProvider, FocusRectsContext, IsFocusVisibleClassName } from '../../Utilities';\nimport { registerLayer, getDefaultTarget, unregisterLayer, getLayerHost, createDefaultLayerHost } from './Layer.notification';\nimport { useIsomorphicLayoutEffect, useMergedRefs, useWarnings } from '@fluentui/react-hooks';\nvar getClassNames = classNamesFunction();\nvar getFocusVisibility = function (providerRef) {\n  if (providerRef === null || providerRef === void 0 ? void 0 : providerRef.current) {\n    return providerRef.current.classList.contains(IsFocusVisibleClassName);\n  }\n  return false;\n};\nexport var LayerBase = React.forwardRef(function (props, ref) {\n  var registerPortalEl = usePortalCompat();\n  var rootRef = React.useRef(null);\n  var mergedRef = useMergedRefs(rootRef, ref);\n  var layerRef = React.useRef();\n  var fabricElementRef = React.useRef(null);\n  var focusContext = React.useContext(FocusRectsContext);\n  // Tracks if the layer mount events need to be raised.\n  // Required to allow the DOM to render after the layer element is added.\n  var _a = React.useState(false),\n    needRaiseLayerMount = _a[0],\n    setNeedRaiseLayerMount = _a[1];\n  // Sets the focus visible className when the FocusRectsProvider for the layer is rendered\n  // This allows the current focus visibility style to be carried over to the layer content\n  var focusRectsRef = React.useCallback(function (el) {\n    var isFocusVisible = getFocusVisibility(focusContext === null || focusContext === void 0 ? void 0 : focusContext.providerRef);\n    if (el && isFocusVisible) {\n      el.classList.add(IsFocusVisibleClassName);\n    }\n  }, [focusContext]);\n  var children = props.children,\n    className = props.className,\n    eventBubblingEnabled = props.eventBubblingEnabled,\n    fabricProps = props.fabricProps,\n    hostId = props.hostId,\n    insertFirst = props.insertFirst,\n    _b = props.onLayerDidMount,\n    onLayerDidMount = _b === void 0 ? function () {\n      return undefined;\n    } : _b,\n    // eslint-disable-next-line deprecation/deprecation\n    _c = props.onLayerMounted,\n    // eslint-disable-next-line deprecation/deprecation\n    onLayerMounted = _c === void 0 ? function () {\n      return undefined;\n    } : _c,\n    onLayerWillUnmount = props.onLayerWillUnmount,\n    styles = props.styles,\n    theme = props.theme;\n  var fabricRef = useMergedRefs(fabricElementRef, fabricProps === null || fabricProps === void 0 ? void 0 : fabricProps.ref, focusRectsRef);\n  var classNames = getClassNames(styles, {\n    theme: theme,\n    className: className,\n    isNotHost: !hostId\n  });\n  // Returns the user provided hostId props element, the default target selector,\n  // or undefined if document doesn't exist.\n  var getHost = function (doc) {\n    var _a, _b;\n    if (hostId) {\n      var layerHost = getLayerHost(hostId);\n      if (layerHost) {\n        return (_a = layerHost.rootRef.current) !== null && _a !== void 0 ? _a : null;\n      }\n      return (_b = doc.getElementById(hostId)) !== null && _b !== void 0 ? _b : null;\n    } else {\n      var defaultHostSelector = getDefaultTarget();\n      // Find the host.\n      var host = defaultHostSelector ? doc.querySelector(defaultHostSelector) : null;\n      // If no host is available, create a container for injecting layers in.\n      // Having a container scopes layout computation.\n      if (!host) {\n        host = createDefaultLayerHost(doc);\n      }\n      return host;\n    }\n  };\n  // Removes the current layer element's parentNode and runs onLayerWillUnmount prop if provided.\n  var removeLayerElement = function () {\n    onLayerWillUnmount === null || onLayerWillUnmount === void 0 ? void 0 : onLayerWillUnmount();\n    var elem = layerRef.current;\n    // Clear ref before removing from the DOM\n    layerRef.current = undefined;\n    if (elem && elem.parentNode) {\n      elem.parentNode.removeChild(elem);\n    }\n  };\n  // If a doc or host exists, it will remove and update layer parentNodes.\n  var createLayerElement = function () {\n    var _a;\n    var doc = getDocument(rootRef.current);\n    if (!doc) {\n      return;\n    }\n    var host = getHost(doc);\n    if (!host) {\n      return;\n    }\n    // Remove and re-create any previous existing layer elements.\n    removeLayerElement();\n    var el = ((_a = host.ownerDocument) !== null && _a !== void 0 ? _a : doc).createElement('div');\n    el.className = classNames.root;\n    setPortalAttribute(el);\n    setVirtualParent(el, rootRef.current);\n    insertFirst ? host.insertBefore(el, host.firstChild) : host.appendChild(el);\n    layerRef.current = el;\n    setNeedRaiseLayerMount(true);\n  };\n  useIsomorphicLayoutEffect(function () {\n    createLayerElement();\n    // Check if the user provided a hostId prop and register the layer with the ID.\n    if (hostId) {\n      registerLayer(hostId, createLayerElement);\n    }\n    var unregisterPortalEl = layerRef.current ? registerPortalEl(layerRef.current) : undefined;\n    return function () {\n      if (unregisterPortalEl) {\n        unregisterPortalEl();\n      }\n      removeLayerElement();\n      if (hostId) {\n        unregisterLayer(hostId, createLayerElement);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- should run if the hostId updates.\n  }, [hostId]);\n  React.useEffect(function () {\n    if (layerRef.current && needRaiseLayerMount) {\n      onLayerMounted === null || onLayerMounted === void 0 ? void 0 : onLayerMounted();\n      onLayerDidMount === null || onLayerDidMount === void 0 ? void 0 : onLayerDidMount();\n      setNeedRaiseLayerMount(false);\n    }\n  }, [needRaiseLayerMount, onLayerMounted, onLayerDidMount]);\n  useDebugWarnings(props);\n  return React.createElement(\"span\", {\n    className: \"ms-layer\",\n    ref: mergedRef\n  }, layerRef.current && ReactDOM.createPortal(React.createElement(FocusRectsProvider, {\n    layerRoot: true,\n    providerRef: fabricRef\n  }, React.createElement(Fabric, __assign({}, !eventBubblingEnabled && getFilteredEvents(), fabricProps, {\n    className: css(classNames.content, fabricProps === null || fabricProps === void 0 ? void 0 : fabricProps.className),\n    ref: fabricRef\n  }), children)), layerRef.current));\n});\nLayerBase.displayName = 'LayerBase';\nvar filteredEventProps;\nvar onFilterEvent = function (ev) {\n  // We should just be able to check ev.bubble here and only stop events that are bubbling up. However, even though\n  // mouseenter and mouseleave do NOT bubble up, they are showing up as bubbling. Therefore we stop events based on\n  // event name rather than ev.bubble.\n  if (ev.eventPhase === Event.BUBBLING_PHASE && ev.type !== 'mouseenter' && ev.type !== 'mouseleave' && ev.type !== 'touchstart' && ev.type !== 'touchend') {\n    ev.stopPropagation();\n  }\n};\nfunction getFilteredEvents() {\n  if (!filteredEventProps) {\n    filteredEventProps = {};\n    ['onClick', 'onContextMenu', 'onDoubleClick', 'onDrag', 'onDragEnd', 'onDragEnter', 'onDragExit', 'onDragLeave', 'onDragOver', 'onDragStart', 'onDrop', 'onMouseDown', 'onMouseEnter', 'onMouseLeave', 'onMouseMove', 'onMouseOver', 'onMouseOut', 'onMouseUp', 'onTouchMove', 'onTouchStart', 'onTouchCancel', 'onTouchEnd', 'onKeyDown', 'onKeyPress', 'onKeyUp', 'onFocus', 'onBlur', 'onChange', 'onInput', 'onInvalid', 'onSubmit'].forEach(function (name) {\n      return filteredEventProps[name] = onFilterEvent;\n    });\n  }\n  return filteredEventProps;\n}\nfunction useDebugWarnings(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: 'Layer',\n      props: props,\n      deprecations: {\n        onLayerMounted: 'onLayerDidMount'\n      }\n    });\n  }\n}","map":{"version":3,"names":["usePortalCompat","React","ReactDOM","Fabric","classNamesFunction","css","getDocument","setPortalAttribute","setVirtualParent","FocusRectsProvider","FocusRectsContext","IsFocusVisibleClassName","registerLayer","getDefaultTarget","unregisterLayer","getLayerHost","createDefaultLayerHost","useIsomorphicLayoutEffect","useMergedRefs","useWarnings","getClassNames","getFocusVisibility","providerRef","current","classList","contains","LayerBase","forwardRef","props","ref","registerPortalEl","rootRef","useRef","mergedRef","layerRef","fabricElementRef","focusContext","useContext","_a","useState","needRaiseLayerMount","setNeedRaiseLayerMount","focusRectsRef","useCallback","el","isFocusVisible","add","children","className","eventBubblingEnabled","fabricProps","hostId","insertFirst","_b","onLayerDidMount","undefined","_c","onLayerMounted","onLayerWillUnmount","styles","theme","fabricRef","classNames","isNotHost","getHost","doc","layerHost","getElementById","defaultHostSelector","host","querySelector","removeLayerElement","elem","parentNode","removeChild","createLayerElement","ownerDocument","createElement","root","insertBefore","firstChild","appendChild","unregisterPortalEl","useEffect","useDebugWarnings","createPortal","layerRoot","__assign","getFilteredEvents","content","displayName","filteredEventProps","onFilterEvent","ev","eventPhase","Event","BUBBLING_PHASE","type","stopPropagation","forEach","name","process","env","NODE_ENV","deprecations"],"sources":["/Users/jerrywuyongon/node_modules/@fluentui/react/lib/components/src/components/Layer/Layer.base.tsx"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \"react-portal-compat-context\" uses v9 configs via path aliases\nimport { usePortalCompat } from '@fluentui/react-portal-compat-context';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Fabric } from '../../Fabric';\nimport {\n  classNamesFunction,\n  css,\n  getDocument,\n  setPortalAttribute,\n  setVirtualParent,\n  FocusRectsProvider,\n  FocusRectsContext,\n  IsFocusVisibleClassName,\n} from '../../Utilities';\nimport {\n  registerLayer,\n  getDefaultTarget,\n  unregisterLayer,\n  getLayerHost,\n  createDefaultLayerHost,\n} from './Layer.notification';\nimport { useIsomorphicLayoutEffect, useMergedRefs, useWarnings } from '@fluentui/react-hooks';\nimport type { ILayerProps, ILayerStyleProps, ILayerStyles } from './Layer.types';\n\nconst getClassNames = classNamesFunction<ILayerStyleProps, ILayerStyles>();\n\nconst getFocusVisibility = (providerRef?: React.RefObject<HTMLElement>) => {\n  if (providerRef?.current) {\n    return providerRef.current.classList.contains(IsFocusVisibleClassName);\n  }\n\n  return false;\n};\n\nexport const LayerBase: React.FunctionComponent<ILayerProps> = React.forwardRef<HTMLDivElement, ILayerProps>(\n  (props, ref) => {\n    const registerPortalEl = usePortalCompat();\n\n    const rootRef = React.useRef<HTMLSpanElement>(null);\n    const mergedRef = useMergedRefs(rootRef, ref);\n    const layerRef = React.useRef<HTMLDivElement>();\n    const fabricElementRef = React.useRef<HTMLDivElement>(null);\n    const focusContext = React.useContext(FocusRectsContext);\n\n    // Tracks if the layer mount events need to be raised.\n    // Required to allow the DOM to render after the layer element is added.\n    const [needRaiseLayerMount, setNeedRaiseLayerMount] = React.useState(false);\n\n    // Sets the focus visible className when the FocusRectsProvider for the layer is rendered\n    // This allows the current focus visibility style to be carried over to the layer content\n    const focusRectsRef = React.useCallback(\n      el => {\n        const isFocusVisible = getFocusVisibility(focusContext?.providerRef);\n        if (el && isFocusVisible) {\n          el.classList.add(IsFocusVisibleClassName);\n        }\n      },\n      [focusContext],\n    );\n\n    const {\n      children,\n      className,\n      eventBubblingEnabled,\n      fabricProps,\n      hostId,\n      insertFirst,\n      onLayerDidMount = () => undefined,\n      // eslint-disable-next-line deprecation/deprecation\n      onLayerMounted = () => undefined,\n      onLayerWillUnmount,\n      styles,\n      theme,\n    } = props;\n\n    const fabricRef = useMergedRefs(fabricElementRef, fabricProps?.ref, focusRectsRef);\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      isNotHost: !hostId,\n    });\n\n    // Returns the user provided hostId props element, the default target selector,\n    // or undefined if document doesn't exist.\n    const getHost = (doc: Document): Node | null => {\n      if (hostId) {\n        const layerHost = getLayerHost(hostId);\n\n        if (layerHost) {\n          return layerHost.rootRef.current ?? null;\n        }\n\n        return doc.getElementById(hostId) ?? null;\n      } else {\n        const defaultHostSelector = getDefaultTarget();\n\n        // Find the host.\n        let host: Node | null = defaultHostSelector ? (doc.querySelector(defaultHostSelector) as Node) : null;\n\n        // If no host is available, create a container for injecting layers in.\n        // Having a container scopes layout computation.\n        if (!host) {\n          host = createDefaultLayerHost(doc);\n        }\n\n        return host;\n      }\n    };\n\n    // Removes the current layer element's parentNode and runs onLayerWillUnmount prop if provided.\n    const removeLayerElement = (): void => {\n      onLayerWillUnmount?.();\n\n      const elem = layerRef.current;\n\n      // Clear ref before removing from the DOM\n      layerRef.current = undefined;\n\n      if (elem && elem.parentNode) {\n        elem.parentNode.removeChild(elem);\n      }\n    };\n\n    // If a doc or host exists, it will remove and update layer parentNodes.\n    const createLayerElement = () => {\n      const doc = getDocument(rootRef.current);\n\n      if (!doc) {\n        return;\n      }\n\n      const host = getHost(doc);\n\n      if (!host) {\n        return;\n      }\n\n      // Remove and re-create any previous existing layer elements.\n      removeLayerElement();\n\n      const el = (host.ownerDocument ?? doc).createElement('div');\n\n      el.className = classNames.root!;\n      setPortalAttribute(el);\n      setVirtualParent(el, rootRef.current!);\n\n      insertFirst ? host.insertBefore(el, host.firstChild) : host.appendChild(el);\n      layerRef.current = el;\n      setNeedRaiseLayerMount(true);\n    };\n\n    useIsomorphicLayoutEffect(() => {\n      createLayerElement();\n      // Check if the user provided a hostId prop and register the layer with the ID.\n      if (hostId) {\n        registerLayer(hostId, createLayerElement);\n      }\n\n      const unregisterPortalEl = layerRef.current ? registerPortalEl(layerRef.current) : undefined;\n\n      return () => {\n        if (unregisterPortalEl) {\n          unregisterPortalEl();\n        }\n\n        removeLayerElement();\n\n        if (hostId) {\n          unregisterLayer(hostId, createLayerElement);\n        }\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps -- should run if the hostId updates.\n    }, [hostId]);\n\n    React.useEffect(() => {\n      if (layerRef.current && needRaiseLayerMount) {\n        onLayerMounted?.();\n        onLayerDidMount?.();\n        setNeedRaiseLayerMount(false);\n      }\n    }, [needRaiseLayerMount, onLayerMounted, onLayerDidMount]);\n\n    useDebugWarnings(props);\n\n    return (\n      <span className=\"ms-layer\" ref={mergedRef}>\n        {layerRef.current &&\n          ReactDOM.createPortal(\n            <FocusRectsProvider layerRoot providerRef={fabricRef}>\n              {/* eslint-disable deprecation/deprecation */}\n              <Fabric\n                {...(!eventBubblingEnabled && getFilteredEvents())}\n                {...fabricProps}\n                className={css(classNames.content, fabricProps?.className)}\n                ref={fabricRef}\n              >\n                {children}\n              </Fabric>\n              {/* eslint-enable deprecation/deprecation */}\n            </FocusRectsProvider>,\n            layerRef.current,\n          )}\n      </span>\n    );\n  },\n);\nLayerBase.displayName = 'LayerBase';\n\nlet filteredEventProps: { [key: string]: (ev: React.SyntheticEvent<HTMLElement, Event>) => void };\n\nconst onFilterEvent = (ev: React.SyntheticEvent<HTMLElement>): void => {\n  // We should just be able to check ev.bubble here and only stop events that are bubbling up. However, even though\n  // mouseenter and mouseleave do NOT bubble up, they are showing up as bubbling. Therefore we stop events based on\n  // event name rather than ev.bubble.\n  if (\n    ev.eventPhase === Event.BUBBLING_PHASE &&\n    ev.type !== 'mouseenter' &&\n    ev.type !== 'mouseleave' &&\n    ev.type !== 'touchstart' &&\n    ev.type !== 'touchend'\n  ) {\n    ev.stopPropagation();\n  }\n};\n\nfunction getFilteredEvents() {\n  if (!filteredEventProps) {\n    filteredEventProps = {} as any;\n    [\n      'onClick',\n      'onContextMenu',\n      'onDoubleClick',\n      'onDrag',\n      'onDragEnd',\n      'onDragEnter',\n      'onDragExit',\n      'onDragLeave',\n      'onDragOver',\n      'onDragStart',\n      'onDrop',\n      'onMouseDown',\n      'onMouseEnter',\n      'onMouseLeave',\n      'onMouseMove',\n      'onMouseOver',\n      'onMouseOut',\n      'onMouseUp',\n      'onTouchMove',\n      'onTouchStart',\n      'onTouchCancel',\n      'onTouchEnd',\n      'onKeyDown',\n      'onKeyPress',\n      'onKeyUp',\n      'onFocus',\n      'onBlur',\n      'onChange',\n      'onInput',\n      'onInvalid',\n      'onSubmit',\n    ].forEach(name => (filteredEventProps[name] = onFilterEvent));\n  }\n  return filteredEventProps;\n}\n\nfunction useDebugWarnings(props: ILayerProps) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: 'Layer',\n      props,\n      deprecations: { onLayerMounted: 'onLayerDidMount' },\n    });\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}